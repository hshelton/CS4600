<!DOCTYPE html>
<html>


<script type="text/javascript" src="webgl-utils.js"></script>
<script type="text/javascript" src="initShaders.js"></script>
<script type="text/javascript" src="MV.js"></script>

	<link rel="stylesheet" href="style.css"/>

<script id="vertex-shader"type="x-shader/x-fragment" >
attribute vec4 vPosition;
attribute vec4 vNormal;
attribute  vec4 vertexColor;
varying vec4 fragmentColor;
uniform mat3 normalMatrix;

uniform vec4 ambientProduct, diffuseProduct, specularProduct;
uniform float shininess;
uniform vec3 eyePosition;



uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 planeMatrix;
uniform vec4 lightPosition;


void main()
{
	


    // pos is vertex position in eye coordinates

    vec3 pos = (modelViewMatrix * vPosition).xyz;

    // vector from vertex position to light source

    vec3 L;

    // check for directional light

    if(lightPosition.w == 0.0) L = normalize((modelViewMatrix*lightPosition).xyz);
    else L = normalize( (modelViewMatrix*lightPosition).xyz - pos );

    // Because the eye point the is at the orgin
    // the vector from the vertex position to the eye is

    vec3 E = -normalize( pos );

    // halfway vector

    vec3 H = normalize( L + E );

    // Transform vertex normal into eye coordinates

   vec3 N = normalize( normalMatrix*vNormal.xyz);


    // Compute terms in the illumination equation
    vec4 ambient = ambientProduct;

    float Kd = max( dot(L, N), 0.0 );
    vec4  diffuse = Kd*diffuseProduct;

    float Ks = pow( max(dot(N, H), 0.0), shininess );
    vec4  specular = Ks * specularProduct;

    if( dot(L, N) < 0.0 ) {
	specular = vec4(0.0, 0.0, 0.0, 1.0);
    }

    fragmentColor = ambient + diffuse +specular;

    fragmentColor.a = 1.0;

        gl_Position = projectionMatrix * modelViewMatrix * vPosition;

}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">

precision mediump float;

varying  vec4 fragmentColor;

void main()
{
    gl_FragColor = fragmentColor;
}
</script>

<body id="body">

<div class="headline">
	<h2>Shading and Lighting  </h2>
		<p>
			Hayden Shelton CS 4600
			Fall 2015
		</p>
</div>
<canvas id="gl-canvas" style="background-color:black;" width="512" height="512">
Sorry. Your browser doesn't support WebGL.
</canvas>
	<div class="control-box">
		<div>
		<label>Light: X</label>
		<input id="lightXSlider" class="blue" type="range"
		 min="-10.0" max="10.0" step="0.5" value="0.0" />
		</div>
		
		<div>
		<label>Light: Y</label>
		<input id="lightYSlider" class="blue" type="range"
		 min="-10.0" max="10.0" step="0.5" value="0.0" />
		</div>
		
		<div>
		<label>Light: Z</label>
		<input id="lightZSlider" class="blue" type="range"
		 min="-10.0" max="10.0" step="0.5" value="0.0" />
		</div>

		<div>
		<label>Eye: X</label>
		<input id="eyeXSlider" class="green" type="range"
		 min="-50" max="50" step="1.0" value="0.0" />
		</div>
		
		<div>
		<label>Eye: Y</label>
		<input id="eyeYSlider" class="green" type="range"
		 min="-10.0" max="10.0" step="0.5" value="0.0" />
		</div>
		
		<div>
		<label>Eye: Z</label>
		<input id="eyeZSlider" class="green" type="range"
		 min="-10.0" max="10.0" step="0.5" value="0.0" />
		</div>

		<div>
		<label>direction </label>
		 <input id="directionSlider" class="blue"type="range"
		 min="0" max="360" step="1" value="360" />
		</div>

		<div>
		<label>At : X </label>
		<input id="atXSlider" class="black" type="range"
		 min="-100" max="100" step="1" value="1" />
		</div>
		<div>
		<label>At : Y </label>
		<input id="atYSlider" class="black" type="range"
		 min="-100" max="100" step="1" value="0" />
		</div>
		<div>
		<label>At : Z </label>
		<input id="atZSlider" class="black" type="range"
		 min="-100" max="100" step="1" value="0" />
		</div>




</div>
</body>
<script type="text/javascript" src="Shading_Lighting.js"></script>

</html>